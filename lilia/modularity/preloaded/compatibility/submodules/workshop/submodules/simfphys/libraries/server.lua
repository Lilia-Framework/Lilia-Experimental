------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
local MODULE = MODULE
------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
function MODULE:simfphysUse(entity, client)
    if simfphys.IsCar(entity) and MODULE.TimeToEnterVehicle > 0 and not (entity.IsBeingEntered or entity.IsLocked) then
        entity.IsBeingEntered = true
        client:setAction("Entering Vehicle...", MODULE.TimeToEnterVehicle)
        client:doStaredAction(
            entity,
            function()
                entity.IsBeingEntered = false
                entity:SetPassenger(client)
            end,
            MODULE.TimeToEnterVehicle,
            function()
                if IsValid(entity) then
                    entity.IsBeingEntered = false
                    client:setAction()
                end

                if IsValid(client) then client:setAction() end
            end
        )
    end
    return MODULE.CarEntryDelayEnabled
end

------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
function MODULE:isSuitableForTrunk(ent)
    if IsValid(ent) and simfphys.IsCar(ent) then return true end
end

------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
function MODULE:CheckValidSit(client, _)
    local entity = client:GetTracedEntity()
    if simfphys.IsCar(entity) then return false end
end
------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
