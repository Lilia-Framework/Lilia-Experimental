------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
netstream.Hook(
    "mapScn",
    function(data, origin)
        if isvector(origin) then
            DynamicBackgrounds.scenes[origin] = data
            table.insert(DynamicBackgrounds.ordered, {origin, data})
        else
            DynamicBackgrounds.scenes[#DynamicBackgrounds.scenes + 1] = data
        end
    end
)

------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
netstream.Hook(
    "mapScnDel",
    function(key)
        DynamicBackgrounds.scenes[key] = nil
        for k, v in ipairs(DynamicBackgrounds.ordered) do
            if v[1] == key then
                table.remove(DynamicBackgrounds.ordered, k)
                break
            end
        end
    end
)

------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
netstream.Hook(
    "mapScnInit",
    function(scenes)
        DynamicBackgrounds.scenes = scenes
        for k, v in pairs(scenes) do
            if isvector(k) then table.insert(DynamicBackgrounds.ordered, {k, v}) end
        end
    end
)
------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
