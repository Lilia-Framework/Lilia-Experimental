----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
function MainMenu:PlayerLiliaDataLoaded(client)
    lia.char.restore(
        client,
        function(charList)
            if not IsValid(client) then return end
            MsgN("Loaded (" .. table.concat(charList, ", ") .. ") for " .. client:Name())
            for _, v in ipairs(charList) do
                if lia.char.loaded[v] then
                    lia.char.loaded[v]:sync(client)
                end
            end

            for _, v in ipairs(player.GetAll()) do
                if v:getChar() then
                    v:getChar():sync(client)
                end
            end

            client.liaCharList = charList
            self:syncCharList(client)
            client.liaLoaded = true
            client:setLiliaData("intro", true)
        end
    )
end

------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
function MainMenu:OnCharacterDelete(client, id)
    lia.log.add(client, "charDelete", id)
end

------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
function MainMenu:OnCharacterDelete(client, id)
    lia.log.add(client, "charDelete", id)
end

------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
function MainMenu:OnCharCreated(client, character)
    lia.log.add(client, "charCreate", character)
end

------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
function MainMenu:CanPlayerUseChar(client, character)
    if client:getChar() and client:getChar():getID() == character:getID() then return false, "@usingChar" end
end

------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
function MainMenu:PlayerLoadedChar(client)
    client:Spawn()
end

------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
function MainMenu:CharacterLoaded(id)
    local character = lia.char.loaded[id]
    local client = character:getPlayer()
    lia.log.add(client, "charLoad", id, character:getName())
end
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------